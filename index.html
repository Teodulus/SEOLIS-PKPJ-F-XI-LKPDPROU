<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asesmen Konsep Router</title>
    
    <style>
        /* Reset Dasar & Latar Belakang */
        * {
            box-sizing: border-box;
        }
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5; /* Latar belakang abu-abu muda */
            color: #333;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header Baru */
        header {
            background-color: #1a5333; /* Hijau tua */
            color: white;
            padding: 20px 40px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        header h1 {
            margin: 0;
            font-size: 24px;
        }
        header p {
            margin: 5px 0 0;
            color: #cce0d6;
            font-size: 14px;
        }
        
        /* Konten Utama (Wrapper) */
        main {
            flex: 1; /* Mendorong footer ke bawah */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            width: 100%;
        }

        /* Gaya "Kartu" untuk semua layar */
        #group-selection-screen,
        #identity-screen,
        #quiz-container,
        #result-area {
            background-color: #ffffff;
            padding: 30px 40px;
            border-radius: 16px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.08);
            margin-bottom: 20px;
            width: 100%;
            max-width: 600px; /* Lebar kartu */
        }
        
        /* Tombol (Gaya baru) */
        button {
            padding: 12px 20px;
            font-size: 16px;
            background-color: #4a7c49; /* Hijau tombol */
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
            margin: 10px 0 5px 0; /* Margin disesuaikan */
            width: 100%; /* Tombol full-width */
            font-weight: bold;
        }
        button:hover {
            background-color: #3a6039; /* Warna hover lebih gelap */
        }
        /* Pengecualian untuk tombol grup */
        #group-selection-screen button {
            width: auto; /* Tombol grup tidak full-width */
            margin: 5px;
        }

        /* Elemen Formulir (Gaya baru) */
        input[type="text"], textarea {
            width: 100%;
            padding: 12px 14px;
            margin: 8px 0 18px 0;
            border: 1px solid #ccc;
            border-radius: 8px;
            font-size: 15px;
        }
        textarea {
            width: 100%; /* Disesuaikan agar konsisten */
            min-height: 120px;
            font-family: inherit;
        }
        label {
            font-weight: bold;
            font-size: 14px;
            color: #1a5333; /* Hijau tua */
            margin-bottom: 5px;
            display: block;
        }
        
        /* Judul di dalam Kartu */
        h2 {
            text-align: center;
            color: #333;
            border-bottom: none; /* Hapus garis bawah */
            padding-bottom: 0;
            margin-top: 0;
            margin-bottom: 25px;
        }
        h3 {
             color: #333; 
             border-bottom: 1px solid #f0f0f0;
             padding-bottom: 10px;
        }

        /* Info Progress (dipindahkan ke main) */
        #progressInfo {
            text-align: center;
            font-style: italic;
            color: #555;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        /* Area Hasil */
        .result-block {
            margin-bottom: 15px;
        }
        .answer-display {
            background-color: #f9f9f9;
            border: 1px solid #eee;
            padding: 15px;
            border-radius: 8px;
            min-height: 50px;
            white-space: pre-wrap;
        }

        /* Footer Baru */
        footer {
            background-color: #1a5333; /* Hijau tua */
            color: #cce0d6;
            padding: 20px;
            text-align: center;
            font-size: 13px;
            margin-top: auto; /* Otomatis menempel di bawah jika konten pendek */
        }
    </style>
</head>
<body>

    <header>
        <h1>Asesmen Konsep Router</h1>
        <p id="header-subtitle">Silakan pilih kelompok dan isi identitas</p>
    </header>

    <main>
        <p id="progressInfo">Pilih kelompok untuk memulai</p>
    
        <div id="group-selection-screen">
            <h2>Pilih Kelompok Anda</h2>
            <p style="text-align: center; margin-top: -10px;">Setiap kelompok akan mendapatkan studi kasus yang berbeda.</p>
            <div style="text-align: center; margin-top: 20px;">
                <button onclick="selectGroup(1)">Kelompok 1 (Kasus Kurir)</button>
                <button onclick="selectGroup(2)">Kelompok 2 (Kasus Google Maps)</button>
            </div>
        </div>

        <div id="identity-screen" style="display: none;">
            <h2 id="identity-title">Identitas Kelompok</h2>
            <form onsubmit="startQuiz(); return false;">
                <div>
                    <label for="group-number-field">Kelompok ke-:</label>
                    <input type="text" id="group-number-field" readonly style="background-color: #eee;">
                </div>
                <div>
                    <label for="presence-1">Nomor Presensi Siswa 1:</label>
                    <input type="text" id="presence-1" placeholder="Contoh: 08" required>
                </div>
                <div>
                    <label for="presence-2">Nomor Presensi Siswa 2:</label>
                    <input type="text" id="presence-2" placeholder="Contoh: 15" required>
                </div>
                <div>
                    <label for="presence-3">Nomor Presensi Siswa 3 (Opsional):</label>
                    <input type="text" id="presence-3" placeholder="Contoh: 22">
                </div>
                <div>
                    <label for="presence-4">Nomor Presensi Siswa 4 (Opsional):</label>
                    <input type="text" id="presence-4" placeholder="Contoh: 30">
                </div>
                <button type="submit">Lanjutkan ke Soal</button>
            </form>
        </div>

        <div id="quiz-container" style="display: none;">
            <h2 id="quiz-title">Judul Soal</h2>
            <h3>Studi Kasus:</h3>
            <p id="story">Cerita kasus akan muncul di sini.</p>
            <h3 id="question" style="color: #0056b3; background-color: #f0f8ff; padding: 15px; border-radius: 8px;">Pertanyaan akan muncul di sini.</h3>
            
            <form onsubmit="submitQuiz(); return false;">
                <label for="answer-input">Jawaban Anda:</label>
                <textarea id="answer-input" rows="8" placeholder="Tulis jawaban dan alasan Anda di sini..." required></textarea><br>
                <button type="submit">Kumpulkan Jawaban</button>
            </form>
        </div>

        <div id="result-area" style="display: none;">
            <h2>Hasil Jawaban</h2>
            <div id="result-details"></div>
        </div>
    
    </main>

    <footer>
        Â© 2025 Seoludut Education Learning System
    </footer>


    <script>
        // Variabel Global
        let selectedGroup = 0;
        let identityData = {}; 

        // Data Soal
        const questions = {
            1: {
                title: "Kasus 1: Kurir Paket dan Dua Perumahan",
                story: "Bayangkan Anda seorang kurir paket yang bertugas mengantar barang. Ada dua perumahan yang terpisah: Perumahan A (alamatnya dimulai dengan Jalan Cendrawasih) dan Perumahan B (alamatnya dimulai dengan Jalan Rajawali). Anda mendapat paket yang tujuannya adalah Jalan Rajawali. Namun, Anda berada di dalam Perumahan A (Jalan Cendrawasih) dan tidak tahu cara masuk ke Perumahan B. Di persimpangan yang menghubungkan kedua perumahan, ada seorang satpam. Satpam ini tahu semua jalan di kedua perumahan dan tahu jalur tercepat untuk mengirim paket.",
                question: "Berdasarkan cerita ini, siapa yang berperan sebagai router? Mengapa?"
            },
            2: {
                title: "Kasus 2: Peta Jalan dan Google Maps",
                story: "Bayangkan Anda ingin pergi dari rumah ke perpustakaan. Ada beberapa jalan yang bisa Anda pilih. Anda tidak tahu jalan mana yang paling cepat, jadi Anda membuka aplikasi Google Maps (router). Google Maps akan menganalisis semua jalur yang mungkin, seperti jalan lurus, jalan tol, atau jalan pintas. Berdasarkan informasi lalu lintas dan kondisi jalan, Google Maps akan memilih satu jalur terbaik untuk Anda ikuti. Anda akan mengikuti petunjuk dari Google Maps hingga sampai di perpustakaan.",
                question: "Berdasarkan cerita ini, siapa yang berperan sebagai paket data? Mengapa?"
            }
        };

        // Referensi elemen DOM
        const groupSelectionScreen = document.getElementById('group-selection-screen');
        const identityScreen = document.getElementById('identity-screen');
        const quizContainer = document.getElementById('quiz-container');
        const resultArea = document.getElementById('result-area');
        const progressInfo = document.getElementById('progressInfo');
        const headerSubtitle = document.getElementById('header-subtitle'); // Elemen baru

        /**
         * Fungsi untuk memilih kelompok dan menampilkan layar identitas.
         * @param {number} groupNumber - Nomor kelompok (1 atau 2).
         */
        function selectGroup(groupNumber) {
            selectedGroup = groupNumber;
            groupSelectionScreen.style.display = 'none';
            identityScreen.style.display = 'block';
            document.getElementById('identity-title').textContent = `Identitas Kelompok ${groupNumber}`;
            
            document.getElementById('group-number-field').value = groupNumber; 
            
            progressInfo.textContent = 'Masukkan identitas kelompok';
            headerSubtitle.textContent = 'Masukkan identitas kelompok'; // Update header
        }

        /**
         * Fungsi untuk memulai kuis setelah mengisi identitas.
         */
        function startQuiz() {
            identityData = {
                kelompok: document.getElementById('group-number-field').value.trim(),
                presensi1: document.getElementById('presence-1').value.trim(),
                presensi2: document.getElementById('presence-2').value.trim(),
                presensi3: document.getElementById('presence-3').value.trim(),
                presensi4: document.getElementById('presence-4').value.trim(),
            };

            if (!identityData.presensi1 || !identityData.presensi2) {
                alert('Mohon isi minimal Nomor Presensi Siswa 1 dan 2!');
                return;
            }

            const soal = questions[selectedGroup];
            document.getElementById('quiz-title').textContent = soal.title;
            document.getElementById('story').textContent = soal.story;
            document.getElementById('question').textContent = soal.question;
            
            identityScreen.style.display = 'none';
            quizContainer.style.display = 'block';
            progressInfo.textContent = `Kelompok ${selectedGroup} sedang mengerjakan...`;
            headerSubtitle.textContent = `Kelompok ${selectedGroup} mengerjakan soal`; // Update header
        }

        /**
         * Fungsi untuk mengumpulkan jawaban, menampilkan hasil,
         * DAN menyediakan link kirim ke Telegram.
         */
        function submitQuiz() {
            const answer = document.getElementById('answer-input').value.trim();

            if (answer === '') {
                alert('Mohon isi jawaban Anda sebelum mengumpulkan!');
                return;
            }

            quizContainer.style.display = 'none';
            resultArea.style.display = 'block';
            progressInfo.textContent = 'Hasil Asesmen';
            headerSubtitle.textContent = 'Hasil Asesmen'; // Update header

            // --- PERSIAPAN DATA UNTUK TELEGRAM ---
            const telegramUsername = "USERNAME_ANDA"; // <--- UBAH BAGIAN INI

            const soal = questions[selectedGroup];
            
            let pesanTelegram = `
--- ðŸ”” HASIL ASESMEN ROUTER ---

Identitas:
- Kelompok: ${identityData.kelompok}
- Siswa 1: ${identityData.presensi1}
- Siswa 2: ${identityData.presensi2}
`;
            
            if (identityData.presensi3) {
                pesanTelegram += `- Siswa 3: ${identityData.presensi3}\n`;
            }
            if (identityData.presensi4) {
                pesanTelegram += `- Siswa 4: ${identityData.presensi4}\n`;
            }

            pesanTelegram += `
Soal (Kasus ${selectedGroup}):
${soal.question}

--- JAWABAN KELOMPOK ---
${answer}
`;
            const telegramURL = `https://t.me/${telegramUsername}?text=${encodeURIComponent(pesanTelegram)}`;

            // --- TAMPILKAN HASIL DI HALAMAN ---
            const resultDetails = document.getElementById('result-details');
            
            let presensi3HTML = '';
            if (identityData.presensi3) {
                presensi3HTML = `<p><strong>Nomor Presensi 3:</strong> ${identityData.presensi3}</p>`;
            }
            let presensi4HTML = '';
            if (identityData.presensi4) {
                presensi4HTML = `<p><strong>Nomor Presensi 4:</strong> ${identityData.presensi4}</p>`;
            }

            resultDetails.innerHTML = `
                <div class="result-block">
                    <h3>Identitas Kelompok ${identityData.kelompok}</h3>
                    <p><strong>Nomor Presensi 1:</strong> ${identityData.presensi1}</p>
                    <p><strong>Nomor Presensi 2:</strong> ${identityData.presensi2}</p>
                    ${presensi3HTML}
                    ${presensi4HTML}
                </div>
                <hr style="margin: 20px 0;">
                <div class="result-block">
                    <h3>Soal</h3>
                    <p>${soal.story}</p>
                    <p><strong>Pertanyaan: ${soal.question}</strong></p>
                </div>
                <div class="result-block">
                    <h3>Jawaban Kelompok</h3>
                    <div class="answer-display">${answer}</div>
                </div>
                
                <div style="text-align: center; padding: 25px; background-color: #f0f8ff; border: 1px solid #0088cc; border-radius: 12px; margin-top: 25px;">
                    <h3 style="margin-top: 0; border: none;">Langkah Selanjutnya: Kirim Jawaban</h3>
                    <p>Jawaban Anda sudah selesai. Silakan kirim hasilnya kepada guru dengan menekan tombol di bawah ini.</p>
                    
                    <a href="${telegramURL}" target="_blank" style="display: inline-block; padding: 12px 25px; font-size: 18px; background-color: #0088cc; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; cursor: pointer; width: auto; margin: 5px;">
                        Kirim Jawaban via Telegram
                    </a>
                    <p style="font-size: 12px; margin-top: 10px; color: #555;">(Anda akan diarahkan ke aplikasi Telegram)</p>
                </div>
                
                <hr style="margin: 20px 0;">
                <p style="text-align:center; font-style: italic;">Ruang untuk Penilaian Guru:</p>
                <br><br>
            `;
        }
    </script>

</body>
</html>
